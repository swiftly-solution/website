---
title: IEntitySystemService
---

# Interface IEntitySystemService

<ViewSource href="https://github.com/swiftly-solution/swiftlys2/blob/master/managed/src/SwiftlyS2.Shared/Modules/EntitySystem/IEntitySystem.cs#L8" />

**Namespace**: [SwiftlyS2.Shared.EntitySystem](/docs/api/entitysystem)

**Assembly**: SwiftlyS2.CS2.dll

```csharp
public interface IEntitySystemService
```

## Methods

### CreateEntity()

<ViewSource href="https://github.com/swiftly-solution/swiftlys2/blob/master/managed/src/SwiftlyS2.Shared/Modules/EntitySystem/IEntitySystem.cs#L17" />

Create an entity by class.

```csharp
T CreateEntity<T>() where T : class, ISchemaClass<T>
```

<ApiLabel>Returns</ApiLabel>

- <ApiParam type="T" /> — Created entity.

#### Type Parameters

- <ApiParam name="T" /> — Entity type.

#### Exceptions

- <ApiParam type="ArgumentException" typeHref="https://learn.microsoft.com/dotnet/api/system.argumentexception" /> — Thrown when failed to create entity by class or class doesn't have a designer name.

### CreateEntityByDesignerName(string)

<ViewSource href="https://github.com/swiftly-solution/swiftlys2/blob/master/managed/src/SwiftlyS2.Shared/Modules/EntitySystem/IEntitySystem.cs#L26" />

Create an entity by designer name.

```csharp
T CreateEntityByDesignerName<T>(string designerName) where T : ISchemaClass<T>
```

<ApiLabel>Parameters</ApiLabel>

- <ApiParam name="designerName" type="string" typeHref="https://learn.microsoft.com/dotnet/api/system.string" /> — Designer name.

<ApiLabel>Returns</ApiLabel>

- <ApiParam type="T" /> — Created entity.

#### Type Parameters

- <ApiParam name="T" /> — Entity type.

#### Exceptions

- <ApiParam type="ArgumentException" typeHref="https://learn.microsoft.com/dotnet/api/system.argumentexception" /> — Thrown when failed to create entity by designer name or designer name is invalid.

### GetAllEntities()

<ViewSource href="https://github.com/swiftly-solution/swiftlys2/blob/master/managed/src/SwiftlyS2.Shared/Modules/EntitySystem/IEntitySystem.cs#L46" />

Get all entities.

```csharp
IEnumerable<CEntityInstance> GetAllEntities()
```

<ApiLabel>Returns</ApiLabel>

- <ApiParam type="IEnumerable&lt;CEntityInstance&gt;" typeHref="https://learn.microsoft.com/dotnet/api/system.collections.generic.ienumerable-1" /> — All entities.

### GetAllEntitiesByClass()

<ViewSource href="https://github.com/swiftly-solution/swiftlys2/blob/master/managed/src/SwiftlyS2.Shared/Modules/EntitySystem/IEntitySystem.cs#L53" />

Get all entities by class.

```csharp
IEnumerable<T> GetAllEntitiesByClass<T>() where T : class, ISchemaClass<T>
```

<ApiLabel>Returns</ApiLabel>

- <ApiParam type="IEnumerable&lt;T&gt;" typeHref="https://learn.microsoft.com/dotnet/api/system.collections.generic.ienumerable-1" /> — All entities by class.

#### Type Parameters

- <ApiParam name="T" /> — Entity type.

### GetAllEntitiesByDesignerName(string)

<ViewSource href="https://github.com/swiftly-solution/swiftlys2/blob/master/managed/src/SwiftlyS2.Shared/Modules/EntitySystem/IEntitySystem.cs#L61" />

Get all entities by designer name, and cast to type T.

```csharp
IEnumerable<T> GetAllEntitiesByDesignerName<T>(string designerName) where T : class, ISchemaClass<T>
```

<ApiLabel>Parameters</ApiLabel>

- <ApiParam name="designerName" type="string" typeHref="https://learn.microsoft.com/dotnet/api/system.string" /> — Designer name.

<ApiLabel>Returns</ApiLabel>

- <ApiParam type="IEnumerable&lt;T&gt;" typeHref="https://learn.microsoft.com/dotnet/api/system.collections.generic.ienumerable-1" /> — All entities by designer name.

#### Type Parameters

- <ApiParam name="T" /> — Entity type.

### GetEntityByIndex(uint)

<ViewSource href="https://github.com/swiftly-solution/swiftlys2/blob/master/managed/src/SwiftlyS2.Shared/Modules/EntitySystem/IEntitySystem.cs#L69" />

Get an entity by index.

```csharp
T? GetEntityByIndex<T>(uint index) where T : class, ISchemaClass<T>
```

<ApiLabel>Parameters</ApiLabel>

- <ApiParam name="index" type="uint" typeHref="https://learn.microsoft.com/dotnet/api/system.uint32" /> — Entity index.

<ApiLabel>Returns</ApiLabel>

- <ApiParam type="T?" /> — Entity by index. Nullable.

#### Type Parameters

- <ApiParam name="T" /> — Entity type.

### GetGameRules()

<ViewSource href="https://github.com/swiftly-solution/swiftlys2/blob/master/managed/src/SwiftlyS2.Shared/Modules/EntitySystem/IEntitySystem.cs#L40" />

Get the game rules entity.

```csharp
CCSGameRules? GetGameRules()
```

<ApiLabel>Returns</ApiLabel>

- <ApiParam type="CCSGameRules?" typeHref="/docs/api/schemadefinitions/ccsgamerules" /> — Game rules entity. Nullable.

### GetRefEHandle(T)

<ViewSource href="https://github.com/swiftly-solution/swiftlys2/blob/master/managed/src/SwiftlyS2.Shared/Modules/EntitySystem/IEntitySystem.cs#L34" />

Get a reference handle to the entity.

```csharp
CHandle<T> GetRefEHandle<T>(T entity) where T : class, ISchemaClass<T>
```

<ApiLabel>Parameters</ApiLabel>

- <ApiParam name="entity" type="T" /> — Entity instance.

<ApiLabel>Returns</ApiLabel>

- <ApiParam type="CHandle&lt;T&gt;" typeHref="/docs/api/natives/chandlet" /> — Reference entity handle to the entity.

#### Type Parameters

- <ApiParam name="T" /> — Entity type.

### HookEntityOutput(string, EntityOutputHandler)

<ViewSource href="https://github.com/swiftly-solution/swiftlys2/blob/master/managed/src/SwiftlyS2.Shared/Modules/EntitySystem/IEntitySystem.cs#L93" />

Hooks an output of the specified entity type to a callback function.

```csharp
Guid HookEntityOutput<T>(string outputName, IEntitySystemService.EntityOutputHandler callback) where T : class, ISchemaClass<T>
```

<ApiLabel>Parameters</ApiLabel>

- <ApiParam name="outputName" type="string" typeHref="https://learn.microsoft.com/dotnet/api/system.string" /> — The name of the output to hook. This value cannot be <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/keywords/null">null</a> or empty.
- <ApiParam name="callback" type="IEntitySystemService.EntityOutputHandler" typeHref="/docs/api/entitysystem/ientitysystemservice" /> — The callback function to invoke when the output is triggered. This value cannot be <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/keywords/null">null</a>.

<ApiLabel>Returns</ApiLabel>

- <ApiParam type="Guid" typeHref="https://learn.microsoft.com/dotnet/api/system.guid" /> — A <xref href="System.Guid" data-throw-if-not-resolved="false"></xref> that uniquely identifies the hook. This identifier can be used to manage or remove the hook.

#### Type Parameters

- <ApiParam name="T" /> — The type of the entity, which must implement <xref href="SwiftlyS2.Shared.Schemas.ISchemaClass%601" data-throw-if-not-resolved="false"></xref>.

#### Remarks

This method allows you to attach a handler to a specific output of an entity. The callback will
    be invoked whenever the output is triggered.

### UnhookEntityOutput(Guid)

<ViewSource href="https://github.com/swiftly-solution/swiftlys2/blob/master/managed/src/SwiftlyS2.Shared/Modules/EntitySystem/IEntitySystem.cs#L99" />

Removes the association between the specified entity output and its handler.

```csharp
void UnhookEntityOutput(Guid guid)
```

<ApiLabel>Parameters</ApiLabel>

- <ApiParam name="guid" type="Guid" typeHref="https://learn.microsoft.com/dotnet/api/system.guid" /> — The unique identifier of the entity output to unhook.

